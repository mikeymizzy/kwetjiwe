{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/ccuser/Downloads/kwetjiwe-website-analysis/app/api/contact/route.ts"],"sourcesContent":["import nodemailer from \"nodemailer\"\nimport { NextResponse } from \"next/server\"\n\nconst CONTACT_TO_EMAIL = process.env.CONTACT_TO_EMAIL || \"findhusters@gmail.com\"\n\nexport async function POST(request: Request) {\n  try {\n    const body = await request.json()\n    const { firstName, lastName, email, phone, message } = body || {}\n\n    if (!firstName || !lastName || !email || !message) {\n      return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 })\n    }\n\n    if (!process.env.SMTP_HOST || !process.env.SMTP_USER || !process.env.SMTP_PASS) {\n      return NextResponse.json({ error: \"Email service is not configured\" }, { status: 500 })\n    }\n\n    const transporter = nodemailer.createTransport({\n      host: process.env.SMTP_HOST,\n      port: Number(process.env.SMTP_PORT) || 587,\n      secure: process.env.SMTP_SECURE === \"true\" || Number(process.env.SMTP_PORT) === 465,\n      auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS,\n      },\n    })\n\n    const fullName = `${firstName} ${lastName}`\n    const fromAddress = process.env.SMTP_FROM || process.env.SMTP_USER\n\n    await transporter.sendMail({\n      from: fromAddress,\n      to: CONTACT_TO_EMAIL,\n      subject: `New contact form submission from ${fullName}`,\n      replyTo: email,\n      text: `\nName: ${fullName}\nEmail: ${email}\nPhone: ${phone || \"Not provided\"}\n\nMessage:\n${message}\n`,\n      html: `\n        <p><strong>Name:</strong> ${fullName}</p>\n        <p><strong>Email:</strong> ${email}</p>\n        <p><strong>Phone:</strong> ${phone || \"Not provided\"}</p>\n        <p><strong>Message:</strong></p>\n        <p>${message.replace(/\\n/g, \"<br>\")}</p>\n      `,\n    })\n\n    return NextResponse.json({ success: true })\n  } catch (error) {\n    console.error(\"Contact form submission failed:\", error)\n    return NextResponse.json({ error: \"Unable to send message right now\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,mBAAmB,QAAQ,GAAG,CAAC,gBAAgB,IAAI;AAElD,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,QAAQ,CAAC;QAEhE,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS;YACjD,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,IAAI,CAAC,QAAQ,GAAG,CAAC,SAAS,EAAE;YAC9E,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAkC,GAAG;gBAAE,QAAQ;YAAI;QACvF;QAEA,MAAM,cAAc,4JAAU,CAAC,eAAe,CAAC;YAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS,KAAK;YACvC,QAAQ,QAAQ,GAAG,CAAC,WAAW,KAAK,UAAU,OAAO,QAAQ,GAAG,CAAC,SAAS,MAAM;YAChF,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;QACF;QAEA,MAAM,WAAW,GAAG,UAAU,CAAC,EAAE,UAAU;QAC3C,MAAM,cAAc,QAAQ,GAAG,CAAC,SAAS,IAAI,QAAQ,GAAG,CAAC,SAAS;QAElE,MAAM,YAAY,QAAQ,CAAC;YACzB,MAAM;YACN,IAAI;YACJ,SAAS,CAAC,iCAAiC,EAAE,UAAU;YACvD,SAAS;YACT,MAAM,CAAC;MACP,EAAE,SAAS;OACV,EAAE,MAAM;OACR,EAAE,SAAS,eAAe;;;AAGjC,EAAE,QAAQ;AACV,CAAC;YACK,MAAM,CAAC;kCACqB,EAAE,SAAS;mCACV,EAAE,MAAM;mCACR,EAAE,SAAS,eAAe;;WAElD,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;MACtC,CAAC;QACH;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmC,GAAG;YAAE,QAAQ;QAAI;IACxF;AACF"}}]
}